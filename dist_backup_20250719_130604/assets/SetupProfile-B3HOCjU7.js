import{r as d,j as e}from"./react-vendor-4KVcW9E9.js";import{v as C,x as A,y as F,j as T,k as E,r as B,t as c}from"./firebase-vendor-DqmTlSD9.js";import{s as R,d as S}from"./admin-pages-NPVKbNvB.js";import{a as M}from"./hooks-Dh4rj4GA.js";import{h as q,k as h}from"./vendor-CrhDUPGb.js";import{H as z,F as I}from"./components-DnyS3Eh5.js";import{m as L}from"./ui-vendor-DXhXuwYa.js";import"./utils-BlHP7G-6.js";function Y(){const{user:r}=M(),[g,D]=d.useState(!1),[p,P]=d.useState(null),[v,j]=d.useState(null),[o,U]=d.useState({nome:"",email:(r==null?void 0:r.email)||"",telefone:"",whatsapp:"",box:"",categoria:"publico",cidade:"",mensagem:""}),V=async a=>{var u;const i=(u=a.target.files)==null?void 0:u[0];if(i){if(i.size>5*1024*1024){alert("Arquivo muito grande. M√°ximo 5MB.");return}try{const n=await q(i,{maxSizeMB:1,maxWidthOrHeight:800,useWebWorker:!0});P(n);const m=new FileReader;m.onload=()=>{j(m.result)},m.readAsDataURL(n)}catch{alert("Erro ao comprimir imagem.")}}},w=async a=>{var i,u,n,m,k,y;if(a.preventDefault(),!!r){D(!0);try{let f=null,t=50,b=["setup_profile_completo"];if(p){const N=C(R,`users/${r.uid}/profile-photo`);await A(N,p),f=await F(N),t+=10,b.push("foto_perfil")}const x=(await T(E(S,"users",r.uid))).data(),s=x==null?void 0:x.gamification;await B(E(S,"users",r.uid),{...o,uid:r.uid,displayName:o.nome,email:o.email,role:o.categoria,photoURL:f,isActive:!0,profileComplete:!0,createdAt:c(),updatedAt:c(),gamification:{tokens:{box:{balance:(((u=(i=s==null?void 0:s.tokens)==null?void 0:i.box)==null?void 0:u.balance)||0)+t,totalEarned:(((m=(n=s==null?void 0:s.tokens)==null?void 0:n.box)==null?void 0:m.totalEarned)||0)+t,totalSpent:((y=(k=s==null?void 0:s.tokens)==null?void 0:k.box)==null?void 0:y.totalSpent)||0,lastTransaction:c()}},level:(s==null?void 0:s.level)||"iniciante",totalActions:((s==null?void 0:s.totalActions)||0)+1,lastActionAt:c(),achievements:[...(s==null?void 0:s.achievements)||[],...b],rewards:(s==null?void 0:s.rewards)||[],streakDays:(s==null?void 0:s.streakDays)||1,lastLoginStreak:(s==null?void 0:s.lastLoginStreak)||c(),referralCode:(s==null?void 0:s.referralCode)||`REF${r.uid.slice(-6).toUpperCase()}`,referrals:(s==null?void 0:s.referrals)||[],referralTokens:(s==null?void 0:s.referralTokens)||0,weeklyTokens:((s==null?void 0:s.weeklyTokens)||0)+t,monthlyTokens:((s==null?void 0:s.monthlyTokens)||0)+t,yearlyTokens:((s==null?void 0:s.yearlyTokens)||0)+t,bestStreak:(s==null?void 0:s.bestStreak)||1,badges:[...(s==null?void 0:s.badges)||[],...b],challenges:(s==null?void 0:s.challenges)||[]}}),h({particleCount:150,spread:90,origin:{y:.6},colors:["#fb05e4","#00259f","#10B981","#F59E0B","#FF6B6B","#4ECDC4"],shapes:["circle","square"],ticks:200}),setTimeout(()=>{h({particleCount:100,spread:70,origin:{y:.4,x:.3},colors:["#fb05e4","#00259f","#10B981","#F59E0B"],shapes:["circle"],ticks:150})},500),setTimeout(()=>{h({particleCount:80,spread:60,origin:{y:.5,x:.7},colors:["#fb05e4","#00259f","#FF6B6B","#4ECDC4"],shapes:["square"],ticks:120})},1e3),setTimeout(()=>{alert(`üéâ BEM-VINDO AO INTERBOX 2025! 
        
üèÜ Conquistas:
‚úÖ Perfil completo: +50 ‚Çø${p?`
üì∏ Foto de perfil: +10 ‚Çø`:""}

üí∞ Total ganho: +${t} ‚Çø
üéØ N√≠vel: Iniciante
üìà Streak: 1 dia

üöÄ Sua jornada no ecossistema Interbox come√ßou!
Acesse o Hub para explorar todas as funcionalidades.`),window.location.href="/home"},2e3)}catch(f){console.error("Erro ao configurar perfil:",f),alert("Erro ao configurar perfil. Tente novamente.")}finally{D(!1)}}},l=a=>{U({...o,[a.target.name]:a.target.value})};return e.jsxDEV("div",{className:"min-h-screen bg-black flex flex-col",children:[e.jsxDEV(z,{},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:184,columnNumber:7},this),e.jsxDEV("div",{className:"flex-1 relative",style:{backgroundImage:"url(/images/bg_main.png)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-br from-black/80 via-black/60 to-black/80"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:197,columnNumber:9},this),e.jsxDEV("div",{className:"relative z-10 flex-1 flex items-center justify-center py-20 px-4",children:e.jsxDEV("div",{className:"max-w-2xl w-full",children:e.jsxDEV(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"bg-white/95 backdrop-blur-sm rounded-xl shadow-2xl p-8 border border-white/20",children:[e.jsxDEV("div",{className:"text-center mb-8",children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"‚öôÔ∏è Configurar Perfil"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:209,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-600",children:"Complete seu perfil para acessar o Interbox 2025"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:210,columnNumber:17},this),e.jsxDEV("div",{className:"mt-4 p-4 bg-gradient-to-r from-pink-100 to-blue-100 rounded-lg border border-pink-200",children:e.jsxDEV("p",{className:"text-sm text-gray-700",children:["üéÅ ",e.jsxDEV("strong",{children:"Ganhe tokens ‚Çø:"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:213,columnNumber:24},this),e.jsxDEV("br",{},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:213,columnNumber:56},this),"+50 ‚Çø por completar o perfil",e.jsxDEV("br",{},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:214,columnNumber:49},this),"+10 ‚Çø por adicionar foto"]},void 0,!0,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:212,columnNumber:19},this)},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:211,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:208,columnNumber:15},this),e.jsxDEV("form",{onSubmit:w,className:"space-y-6",children:[e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"üì∏ Foto de Perfil (Opcional)"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:223,columnNumber:19},this),e.jsxDEV("div",{className:"relative inline-block",children:[e.jsxDEV("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-gray-200 mx-auto border-4 border-gray-300 shadow-lg",children:v?e.jsxDEV("img",{src:v,alt:"Preview",className:"w-full h-full object-cover"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:229,columnNumber:25},this):e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center",children:e.jsxDEV("svg",{className:"w-12 h-12 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsxDEV("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:233,columnNumber:29},this)},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:232,columnNumber:27},this)},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:231,columnNumber:25},this)},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:227,columnNumber:21},this),e.jsxDEV("label",{className:"mt-3 inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer transition-colors",children:[e.jsxDEV("input",{type:"file",accept:"image/*",onChange:V,className:"sr-only"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:240,columnNumber:23},this),p?"üì∏ Foto selecionada":"üì∑ Adicionar foto"]},void 0,!0,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:239,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:226,columnNumber:19},this),p&&e.jsxDEV("p",{className:"mt-2 text-sm",style:{color:"rgb(251, 5, 228)"},children:"‚úÖ +10 ‚Çø garantidos pela foto!"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:251,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:222,columnNumber:17},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo *"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:259,columnNumber:21},this),e.jsxDEV("input",{type:"text",name:"nome",value:o.nome,onChange:l,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-colors"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:262,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:258,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:273,columnNumber:21},this),e.jsxDEV("input",{type:"email",name:"email",value:o.email,onChange:l,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-colors"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:276,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:272,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:287,columnNumber:21},this),e.jsxDEV("input",{type:"tel",name:"telefone",value:o.telefone,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-colors"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:290,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:286,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:300,columnNumber:21},this),e.jsxDEV("input",{type:"tel",name:"whatsapp",value:o.whatsapp,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-colors"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:303,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:299,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Box/Academia"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:313,columnNumber:21},this),e.jsxDEV("input",{type:"text",name:"box",value:o.box,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-colors"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:316,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:312,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cidade *"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:326,columnNumber:21},this),e.jsxDEV("input",{type:"text",name:"cidade",value:o.cidade,onChange:l,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-colors"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:329,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:325,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:257,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoria *"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:341,columnNumber:19},this),e.jsxDEV("select",{name:"categoria",value:o.categoria,onChange:l,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-colors",children:[e.jsxDEV("option",{value:"publico",children:"P√∫blico Geral"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:351,columnNumber:21},this),e.jsxDEV("option",{value:"atleta",children:"Atleta"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:352,columnNumber:21},this),e.jsxDEV("option",{value:"jurado",children:"Jurado"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:353,columnNumber:21},this),e.jsxDEV("option",{value:"midia",children:"M√≠dia"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:354,columnNumber:21},this),e.jsxDEV("option",{value:"espectador",children:"Espectador"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:355,columnNumber:21},this),e.jsxDEV("option",{value:"patrocinador",children:"Patrocinador"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:356,columnNumber:21},this),e.jsxDEV("option",{value:"apoio",children:"Apoio"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:357,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:344,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:340,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mensagem/Motiva√ß√£o"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:362,columnNumber:19},this),e.jsxDEV("textarea",{name:"mensagem",value:o.mensagem,onChange:l,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-colors",placeholder:"Conte um pouco sobre sua motiva√ß√£o para participar do evento..."},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:365,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:361,columnNumber:17},this),e.jsxDEV("div",{className:"flex justify-end space-x-4",children:[e.jsxDEV("button",{type:"button",onClick:()=>window.history.back(),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancelar"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:376,columnNumber:19},this),e.jsxDEV("button",{type:"submit",disabled:g,className:"px-6 py-2 bg-gradient-to-r from-pink-600 to-blue-600 text-white rounded-md hover:from-pink-700 hover:to-blue-700 disabled:bg-gray-400 transition-all duration-300 font-medium",children:g?"Configurando...":"Configurar Perfil"},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:383,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:375,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:220,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:202,columnNumber:13},this)},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:201,columnNumber:11},this)},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:200,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:187,columnNumber:7},this),e.jsxDEV(I,{},void 0,!1,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:397,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/nettomello/Desktop/app-fenix/src/pages/SetupProfile.tsx",lineNumber:183,columnNumber:5},this)}export{Y as default};
